"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[652],{2990:(e,t,s)=>{s.d(t,{default:()=>a});var r=s(95155),l=s(12115);function a(){let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let e=()=>{window.pageYOffset>300?t(!0):t(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.jsx)(r.Fragment,{children:e&&(0,r.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-8 z-50 p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50","aria-label":"回到顶部",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})})}},60080:(e,t,s)=>{s.d(t,{Ar:()=>o,E7:()=>l,JR:()=>a,PI:()=>i,Qj:()=>c,Zu:()=>r});let r="",l=r&&!0,a=e=>{l&&window.gtag("config",r,{page_path:e})},n=(e,t,s,r)=>{l&&window.gtag("event",e,{event_category:t,event_label:s,value:r})},o=e=>{n("search","engagement",e)},i=(e,t)=>{n("page_view","article",e),n("view_item","content",t)},c=e=>{n("copy_code","engagement",e)}},65923:(e,t,s)=>{s.d(t,{default:()=>c});var r=s(95155),l=s(52619),a=s.n(l),n=s(15239),o=s(12115),i=s(60080);function c(e){let{allPosts:t=[]}=e,[s,l]=(0,o.useState)(!1),[c,d]=(0,o.useState)(""),[x,h]=(0,o.useState)([]),[m,u]=(0,o.useState)(!1),[g,p]=(0,o.useState)(!1),v=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=()=>{l(window.scrollY>0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,o.useEffect)(()=>{let e=e=>{v.current&&!v.current.contains(e.target)&&u(!1)},t=e=>{"Escape"===e.key&&(u(!1),p(!1))};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[]);let f=e=>{if(d(e),0===e.trim().length)return void h([]);e.trim().length>=2&&(0,i.Ar)(e.trim()),h(t.filter(t=>{var s,r;let l=t.title.toLowerCase().includes(e.toLowerCase()),a=null==(s=t.tags)?void 0:s.some(t=>t.toLowerCase().includes(e.toLowerCase())),n=null==(r=t.excerpt)?void 0:r.toLowerCase().includes(e.toLowerCase());return l||a||n}).slice(0,5)),u(!0)},j=()=>{d(""),h([]),u(!1),p(!1)},b=()=>{p(!g),g||(d(""),h([]))};return(0,r.jsxs)("nav",{className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ".concat(s?"bg-white/95 backdrop-blur-sm shadow-lg border-b border-gray-200":"bg-white shadow-md border-b border-gray-200"),children:[(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(a(),{href:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity group",children:[(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(n.default,{src:"/logo.svg",alt:"博客Logo",width:40,height:40,className:"transition-transform group-hover:scale-105",priority:!0})}),(0,r.jsxs)("div",{className:"hidden sm:block",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:"我的博客"}),(0,r.jsx)("div",{className:"text-xs text-gray-500 font-normal",children:"Tech Blog"})]})]})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,r.jsx)(a(),{href:"/",className:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors",children:"首页"}),(0,r.jsx)(a(),{href:"/about",className:"text-gray-700 hover:text-blue-600 px-3 py-2 text-sm font-medium transition-colors",children:"关于"}),(0,r.jsxs)("div",{className:"relative group",ref:v,children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-10 h-10 text-gray-700 hover:text-blue-600 transition-colors cursor-pointer group-hover:bg-gray-50 rounded-full",children:(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("div",{className:"absolute top-0 right-0 w-80 opacity-0 invisible group-hover:opacity-100 group-hover:visible focus-within:opacity-100 focus-within:visible transition-all duration-300 ease-in-out transform translate-x-4 group-hover:translate-x-0 focus-within:translate-x-0 z-50",children:(0,r.jsxs)("div",{className:"relative bg-white rounded-full shadow-xl border border-gray-200",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",value:c,onChange:e=>f(e.target.value),onFocus:()=>u(!0),className:"block w-full pl-10 pr-10 py-2 border-0 rounded-full leading-5 bg-transparent placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 text-sm transition-all",placeholder:"搜索文章标题、标签..."}),c&&(0,r.jsx)("button",{onClick:j,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]}),m&&(x.length>0||c.length>0)&&(0,r.jsx)("div",{className:"absolute top-full right-0 w-80 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 py-2 max-h-96 overflow-y-auto z-50",children:x.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide border-b border-gray-100",children:["搜索结果 (",x.length,")"]}),x.map(e=>(0,r.jsx)(a(),{href:"/posts/".concat(e.id),onClick:j,className:"block px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-50 last:border-b-0",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-2 h-2 bg-blue-500 rounded-full mt-2"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),e.excerpt&&(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.excerpt}),(0,r.jsxs)("div",{className:"flex items-center mt-2 space-x-2",children:[(0,r.jsx)("time",{className:"text-xs text-gray-400",children:e.date}),e.tags&&e.tags.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.slice(0,2).map(e=>(0,r.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded",children:e},e))})]})]})]})},e.id))]}):c.length>0?(0,r.jsxs)("div",{className:"px-4 py-8 text-center",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"未找到结果"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"试试其他关键词"})]}):(0,r.jsxs)("div",{className:"px-4 py-6 text-center",children:[(0,r.jsx)("svg",{className:"mx-auto h-10 w-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"输入关键词搜索文章"})]})})]})]}),(0,r.jsxs)("div",{className:"md:hidden flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:b,className:"text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600 p-2","aria-label":"Search",children:(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("button",{className:"text-gray-700 hover:text-blue-600 focus:outline-none focus:text-blue-600 p-2","aria-label":"Open menu",children:(0,r.jsx)("svg",{className:"h-6 w-6 fill-current",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"})})})]})]})}),g&&(0,r.jsx)("div",{className:"md:hidden fixed inset-0 z-50 bg-white",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center p-4 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",value:c,onChange:e=>f(e.target.value),className:"block w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"搜索文章标题、标签...",autoFocus:!0})]}),(0,r.jsx)("button",{onClick:b,className:"ml-3 text-gray-500 hover:text-gray-700 p-2",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:c.length>0?x.length>0?(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-500 mb-4",children:["找到 ",x.length," 个结果"]}),(0,r.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,r.jsxs)(a(),{href:"/posts/".concat(e.id),onClick:j,className:"block p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:e.title}),e.excerpt&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-3",children:e.excerpt}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("time",{className:"text-gray-500",children:e.date}),e.tags&&e.tags.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:e.tags.slice(0,2).map(e=>(0,r.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:e},e))})]})]},e.id))})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center px-4",children:[(0,r.jsx)("svg",{className:"h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"未找到结果"}),(0,r.jsx)("p",{className:"text-gray-500",children:"试试其他关键词"})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center px-4",children:[(0,r.jsx)("svg",{className:"h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"搜索文章"}),(0,r.jsx)("p",{className:"text-gray-500",children:"输入关键词搜索文章标题和标签"})]})})]})})]})}}}]);